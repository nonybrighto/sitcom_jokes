import 'package:flutter_test/flutter_test.dart';
import 'package:flutter/material.dart';
import 'package:sitcom_joke/blocs/bloc_provider.dart';
import 'package:sitcom_joke/blocs/joke_list_bloc.dart';
import 'package:sitcom_joke/main.dart';

void main(){



  testWidgets('should have two tabs with joke list',
          (WidgetTester tester) async {

          await tester.pumpWidget(MyApp());

          Finder tabFinder = find.byType(TabBarView);

          TabBarView homeTab =  tester.widget(tabFinder);


          expect(homeTab.children.length, 2);
          expect(homeTab.children[0] is BlocProvider<JokeListBloc>, true);
          expect(homeTab.children[1] is BlocProvider<JokeListBloc>, true);
      });

  testWidgets('Joke Tabs should contain list of items',
          (WidgetTester tester) async {

      //  await tester.pumpWidget(MyApp());

      //  Finder tabFinder = find.byType(TabBarView);

       // TabBarView homeTab =  tester.widget(tabFinder);
       // await tester.tap(find.byIcon(Icons.directions_transit));
       // await tester.pump();
       // expect(find.byType(ListView) , findsOneWidget);

        //expect(find.byIcon(Icons.directions_transit), findsOneWidget);
      });
}
